이벤트 (node.js는 함수생성과 이벤트 연결이 용이)


1. 이벤트 연결
process.on(eventName, eventHandler)
eventName으로 이벤트를 등록하여 해당 이벤트 호출시 구현된 eventHandler를 호출

- 종료시 이벤트
process.on('exit', function() {} )

- 예외발생시 이벤트
process.on('uncaughtException', function(error){})


----------------

2. 이벤트 연결 갯수 제한
* 한 이벤에 10개가 넘는 이벤트핸들러를 연결할 경우 '경고' 발생하며 개발자 실수로 간주
따라서 process.setMaxListener(limit) 로 조절함 (무한개:0)


4. 이벤트 강제발생
- emit(eventName, [arge1], ...);

예시)
process.on('exit', function() {
    ~~
});
//process.exit();
process.emit('exit');
process.emit('exit');
process.emit('exit');
process.emit('exit');



5. 이벤트 생성
Node.js 에서 이벤트를 연결할 수있는 모든 객체는 EventEmitter 객체의 상속을 받음.. 대부분받음

책의 var custom = new process.EventEmitter(); --> X 현재 12.04 node.js에서는 process 객체에서 이벤트생성자를 지원하지않음
이렇게 대체 -> var custom = require('events');
                    new custom.EventEmitter();

예시)
var events = require('events');

//이벤트생성
var eventHandler = new events.EventEmitter();

//이벤트 연결
eventHandler.on('tick', function(){
        console.log('tick called');
} );

//이벤트 강제실행
eventHandler.emit('tick');


